{% extends "base.html" %}

{% block content %}
<div class="container-xl">
    <div class="page-header">
        <h2 class="page-title">Generate Bulk Invoices</h2>
        <div class="text-muted">Create invoices for an entire grade at once.</div>
    </div>

    <div class="row row-cards mt-3">
        <div class="col-md-6 offset-md-3">
            <form method="post" class="card">
                {% csrf_token %}
                <div class="card-body">
                    <div class="mb-3">
                        <label class="form-label required">Select Grade</label>
                        <select name="grade" class="form-select" required>
                            <option value="">-- Choose Grade --</option>
                            {% for grade in grades %}
                            <option value="{{ grade.id }}">{{ grade.name }}</option>
                            {% endfor %}
                        </select>
                        <div class="form-hint">All active students in this grade will receive an invoice.</div>
                    </div>

                    <div class="mb-3">
                        <label class="form-label required">Fee Type</label>
                        <select name="fee_item" class="form-select" required>
                            <option value="">-- Choose Fee --</option>
                            {% for item in fee_items %}
                            <option value="{{ item.id }}">{{ item.name }} (${{ item.amount }})</option>
                            {% endfor %}
                        </select>
                        <div class="form-hint">Manage fee types in Admin panel.</div>
                    </div>

                    <div class="mb-3">
                        <label class="form-label required">Due Date</label>
                        <input type="date" name="due_date" class="form-control" value="{{ default_due }}" required>
                    </div>
                </div>
                <div class="card-footer text-end">
                    <a href="{% url 'invoice_list' %}" class="btn btn-link link-secondary">Cancel</a>
                    <button type="submit" class="btn btn-primary ms-auto">
                        <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><circle cx="12" cy="12" r="9" /><line x1="9" y1="12" x2="15" y2="12" /><line x1="12" y1="9" x2="12" y2="15" /></svg>
                        Generate Invoices
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
{% endblock %}