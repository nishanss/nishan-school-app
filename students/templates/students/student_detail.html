{% extends "base.html" %}

{% block page_title %}
<div class="row align-items-center">
    <div class="col">
      <div class="page-pretitle">Overview</div>
      <h2 class="page-title">{{ student.first_name }} {{ student.last_name }}</h2>
    </div>
    <div class="col-auto ms-auto">
      <div class="btn-list">
        <a href="{% url 'student_update' student.pk %}" class="btn btn-primary">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M4 20h4l10.5 -10.5a1.5 1.5 0 0 0 -4 -4l-10.5 10.5v4" /><line x1="13.5" y1="6.5" x2="17.5" y2="10.5" /></svg>
          Edit Student
        </a>
      </div>
    </div>
  </div>
  {% endblock %}

  {% block content %}
  <div class="card">
    <div class="card-header">
      <h3 class="card-title">Student Information</h3>
    </div>

    <div class="card-body">
        <div class="row">
          <div class="col-md-3 text-center">
            {% if student.photo %}
              <span class="avatar avatar-xl" style="background-image: url('{{ student.photo.url }}')"></span>
            {% else %}
              <span class="avatar avatar-xl bg-secondary-lt">{{ student.first_name|slice:":2" }}</span>
            {% endif %}
            <div class="mt-3">
              <span class="badge {% if student.is_active %}bg-success{% else %}bg-danger{% endif %}">
                {% if student.is_active %}Active{% else %}Inactive{% endif %}
              </span>
            </div>
          </div>

          <div class="col-md-9">
            <div class="datagrid">
              <div class="datagrid-item">
                <div class="datagrid-title">Full Name</div>
                <div class="datagrid-content">{{ student.first_name }} {{ student.last_name }}</div>
              </div>
              <div class="datagrid-item">
                <div class="datagrid-title">Roll Number</div>
                <div class="datagrid-content">{{ student.roll_number }}</div>
              </div>
              <div class="datagrid-item">
                <div class="datagrid-title">Email</div>
                <div class="datagrid-content">{{ student.email }}</div>
              </div>
              <div class="datagrid-item">
                <div class="datagrid-title">Date of Birth</div>
                <div class="datagrid-content">{{ student.date_of_birth }}</div>
              </div>
              <div class="datagrid-item">
                 <div class="datagrid-title">Gender</div>
                 <div class="datagrid-content">{{ student.get_gender_display }}</div>
              </div>
              <div class="datagrid-item">
                <div class="datagrid-title">Parent Phone</div>
                <div class="datagrid-content">{{ student.parent_phone }}</div>
              </div>
              <div class="datagrid-item">
                <div class="datagrid-title">Added On</div>
                <div class="datagrid-content">{{ student.created_at|date:"M d, Y H:i" }}</div>
              </div>
              <div class="datagrid-item">
                <div class="datagrid-title">Added By</div>
                <div class="datagrid-content">{{ student.created_by.username|default:"System" }}</div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="card-footer text-end">
        <a href="{% url 'student_list' %}" class="btn btn-ghost-secondary d-none d-sm-inline-block float-start">
          <svg xmlns="http://www.w3.org/2000/svg" class="icon" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path d="M19 12H6M12 5l-7 7 7 7"/></svg>
          Back to Student List
        </a>
      </div>
    </div>
    {% endblock %}